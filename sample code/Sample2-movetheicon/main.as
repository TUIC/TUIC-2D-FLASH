import flash.display.Sprite;import flash.events.TouchEvent;import flash.events.MouseEvent;import customevent.TagEvent;stop();Multitouch.inputMode = MultitouchInputMode.TOUCH_POINT;var detector:TUICdetector = new TUICdetector();//setup your DetectArea's size and coordinate areaX,areaY,areaW,areaHstage.addChild(detector.DetectArea);var drag0:circle = new circle();drag0.visible = false;//detector.DetectArea.addChild(drag0);//drag0.addEventListener(TouchEvent.TOUCH_BEGIN,itemDown);/*var drag1:circle1 = new circle1();drag1.visible =false;stage.addChild(drag1);drag1.addEventListener(TouchEvent.TOUCH_BEGIN,itemDown);var drag2:circle2= new circle2();drag2.visible =false;stage.addChild(drag2);drag2.addEventListener(TouchEvent.TOUCH_BEGIN,itemDown);*//*function itemDown(e:TouchEvent){  var targetClass:Class = Object(e.currentTarget).constructor;//var targetClass:Class = Object(e.currentTarget).constructor;var obj:MovieClip = new targetClass();obj.gotoAndStop(detectvalue)stage.addChild(obj);obj.x = e.currentTarget.x;obj.y = e.currentTarget.y;//visibleObj.push(obj);obj.addEventListener(TouchEvent.TOUCH_BEGIN, onTouchBegin);obj.addEventListener(TouchEvent.TOUCH_MOVE, onTouchMove);     obj.addEventListener(TouchEvent.TOUCH_END, onTouchEnd);}*/function onTouchBegin(e:TouchEvent){	//var targetClass:Class = Object(e.currentTarget).constructor;	//e.currentTarget.addEventListener(TouchEvent.TOUCH_MOVE, onTouchMove); 	//e.currentTarget.addEventListener(TouchEvent.TOUCH_END, onTouchEnd);	}function onTouchMove(e:TouchEvent){	e.currentTarget.startTouchDrag(e.touchPointID,true);}function onTouchEnd(e:TouchEvent){	//e.currentTarget.addEventListener(TouchEvent.TOUCH_BEGIN, onTouchBegin);}detector.addEventListener(TagEvent.ON_TAG,TagOn);detector.addEventListener(TagEvent.MOVE_TAG,TagMove);detector.addEventListener(TagEvent.OFF_TAG,TagOff);function TagOn(e:TagEvent){	detector.DetectArea.addChild(drag0);	var detectvalue:int = 0;	for(var i=0;i<=e.TAG_ID;i++){		detectvalue++;	}		drag0.gotoAndStop(detectvalue);	drag0.visible = true;	drag0.addEventListener(TouchEvent.TOUCH_BEGIN,itemDown);	function itemDown(e:TouchEvent)	{		var targetClass:Class = e.currentTarget.constructor;		//var targetClass:Class = Object(e.currentTarget).constructor;		var obj:MovieClip = new targetClass();		obj.gotoAndStop(detectvalue);		stage.addChild(obj);		obj.x = e.currentTarget.x;		obj.y = e.currentTarget.y;		//visibleObj.push(obj);		obj.addEventListener(TouchEvent.TOUCH_BEGIN, onTouchBegin);		obj.addEventListener(TouchEvent.TOUCH_MOVE, onTouchMove);		obj.addEventListener(TouchEvent.TOUCH_END, onTouchEnd);	}}function TagMove(e:TagEvent){	if (e.stageX <= 256)	{		drag0.x = e.stageX + 180;	}	else	{		drag0.x = e.stageX - 250;	}	drag0.y = e.stageY;}function TagOff(e:TagEvent){	//drag0.visible = false;	detector.DetectArea.removeChild(drag0);}